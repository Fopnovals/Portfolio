{"version":3,"sources":["scripts/app.js"],"names":["angular","module","component","templateUrl","bindings","inProgress","editInProgressTask","abortedTask","moveToDone","controller","this","edit","e","preventDefault","elem","element","target","hide","next","show","parent","save","obj","prev","aborted","id","status","done","remove","doneTasks","removeDoneTask","removeTask","removeId","tasks","editTask","moveInProgress","dynamicFilter","closest","find","attr","disabled","focus","createTask","_this","newTask","showFieldInput","addTask","data","$valid","temp","task","priority","radio","value","val","abortedTasks","mainService","$rootScope","inProgressTasks","maxID","sortTasksPriority","hightPriority","normalPriority","lowPriority","i","length","push","concat","sortTasksTime","sort","a","b","milliseconds","currentTime","Date","localStorage","setItem","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","getTime","text","newText","storage","doitTasks","toJson","setStorageAbortedTasks","setStorageInProgressTasks","setStorageDoneTasks","abortTask","splice","editInProgress","abortInProgress","$inject","service","abortInProgressTask","runBlock","fromJson","getItem","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-8af7d226d8.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('canban', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('inProgressComponent', {\n      templateUrl: 'app/components/inprogress/inprogress.template.html',\n      bindings: {\n        inProgress: '<',\n        editInProgressTask: '&',\n        abortedTask: '&',\n        moveToDone: '&'\n      },\n      controller: function() {\n\n        this.edit = function(e) {\n          e.preventDefault();\n          var elem = angular.element(e.target);\n          elem.hide();\n          elem.next().show();\n          elem.parent().next().show();\n        };\n\n        this.save = function(e, obj) {\n          var elem = angular.element(e.target);\n          elem.hide();\n          elem.prev().show();\n          elem.parent().next().hide();\n          this.editInProgressTask({obj: obj});\n        };\n\n        this.aborted = function(id) {\n          var obj = {\n            'status': 'aborted',\n            'id': id\n          };\n          this.abortedTask({'obj': obj});\n        };\n\n        this.done = function(id) {\n          var obj = {\n            'status': 'done',\n            'id': id\n          };\n          this.moveToDone({'obj': obj});\n        }\n      }\n\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('doneComponent', {\n      templateUrl: 'app/components/done/done.template.html',\n      bindings: {\n        remove: \"&\",\n        doneTasks: \"<\",\n        removeDoneTask: '&'\n      },\n      controller: function() {\n        this.removeTask = function(removeId) {\n          this.removeDoneTask({obj: {'id': removeId}});\n        };\n\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('doitComponent', {\n      templateUrl: 'app/components/doit/doit.template.html',\n      bindings: {\n        tasks: \"<\",\n        editTask: \"&\",\n        abortedTask: \"&\",\n        moveInProgress: \"&\",\n        dynamicFilter: '@'\n      },\n      controller: function() {\n\n        this.edit = function(e) {\n          e.preventDefault();\n          var elem = angular.element(e.target);\n          elem.closest('.task').find('.task-description').attr({'disabled': false}).focus();\n          elem.hide();\n          elem.next().show();\n          elem.parent('.buttons').next('.edit-priority').show();\n        };\n\n        this.save = function(e, obj) {\n          var elem = angular.element(e.target);\n          elem.closest('.task').find('.task-description').attr({'disabled': true});\n          elem.hide();\n          elem.prev().show();\n          elem.parent('.buttons').next('.edit-priority').hide();\n          this.editTask({obj: obj});\n        };\n\n        this.aborted = function(id) {\n          var obj = {\n            'status': 'aborted',\n            'id': id\n          };\n          this.abortedTask({'obj': obj});\n        };\n\n        this.inProgress = function(id) {\n          this.moveInProgress({obj: {'id': id}});\n        };\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('addComponent', {\n      templateUrl: 'app/components/add/add.template.html',\n      bindings: {\n        createTask: \"&\"\n      },\n      controller: function() {\n        var _this = this;\n\n        _this.show = false;\n        _this.newTask = {};\n        _this.showFieldInput = function() {\n          _this.show = !_this.show;\n        };\n\n        _this.addTask = function(e, data) {\n          if(!data.$valid) {\n            return;\n          } else {\n            var temp = {\n              task: data.task,\n              priority: data.radio.value\n            };\n            _this.show = false;\n            angular.element(e.target).closest('.add-task').find('.input-new-task').val('');\n            _this.createTask({task:temp});\n          }\n        }\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('abortedComponent', {\n      templateUrl: 'app/components/aborted/aborted.template.html',\n      bindings: {\n        remove: \"&\",\n        abortedTasks: \"<\"\n      },\n      controller: function() {\n        this.removeTask = function(removeId) {\n          this.remove({obj: {'id': removeId}});\n        };\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .service('mainService', mainService);\n\n  /** @ngInject */\n  function mainService($rootScope) {\n    var _this = this;\n\n    _this.tasks = $rootScope.tasks;\n    _this.abortedTasks = $rootScope.abortedTasks;\n    _this.inProgressTasks = $rootScope.inProgressTasks;\n    _this.doneTasks = $rootScope.doneTasks;\n    _this.maxID = $rootScope.maxID;\n\n    //sorting of tasks\n    var sortTasksPriority = function(tasks) {\n      var hightPriority = [], normalPriority = [], lowPriority = [];\n      for(var i=0; i<tasks.length; i++) {\n        if(tasks[i].priority == 'hight') {\n          hightPriority.push(tasks[i]);\n        } else if(tasks[i].priority == 'normal') {\n          normalPriority.push(tasks[i]);\n        } else if(tasks[i].priority == 'low') {\n          lowPriority.push(tasks[i]);\n        }\n      }\n      return hightPriority.concat(normalPriority).concat(lowPriority);\n    };\n\n    var sortTasksTime = function(tasks) {\n      tasks.sort(function(a, b) {\n        return a.milliseconds - b.milliseconds;\n      });\n    };\n\n    //addition a new task\n    _this.addTask = function(obj) {\n      var currentTime = new Date(),\n        id;\n      _this.maxID++;\n      localStorage.setItem('maxID', _this.maxID);\n      if(_this.tasks.length > 0) {\n        id = _this.maxID;\n      } else {\n        id = 0;\n      }\n\n      var temp = {\n        \"year\": currentTime.getFullYear()+'   ',\n        \"month\": currentTime.getMonth()+'.',\n        \"date\": currentTime.getDate()+'.',\n        \"hours\": currentTime.getHours()+':',\n        \"minutes\": currentTime.getMinutes()+':',\n        \"seconds\": currentTime.getSeconds(),\n        \"milliseconds\": currentTime.getTime(),\n        \"text\": obj.task,\n        \"priority\": obj.priority,\n        \"status\": \"new\",\n        \"id\":  id\n      };\n      _this.tasks.push(temp);\n      sortTasksTime(_this.tasks);\n      _this.tasks = sortTasksPriority(_this.tasks);\n      return _this.tasks;\n    };\n\n    //editing of task\n    _this.editTask = function(id, newText, priority) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == id) {\n          _this.tasks[i]['text'] = newText;\n          _this.tasks[i]['priority'] = priority;\n          sortTasksTime(_this.tasks);\n          _this.tasks = sortTasksPriority(_this.tasks);\n          return _this.tasks;\n        }\n        i++;\n      }\n    };\n\n    //saving tasks in localStorage\n    _this.storage = function() {\n      var doitTasks = angular.toJson(_this.tasks);\n      localStorage.setItem('doitTasks', doitTasks);\n    };\n\n    _this.setStorageAbortedTasks = function() {\n      var abortedTasks = angular.toJson(_this.abortedTasks);\n      localStorage.setItem('abortedTasks', abortedTasks);\n    };\n\n    _this.setStorageInProgressTasks = function() {\n      var inProgressTasks = angular.toJson(_this.inProgressTasks);\n      localStorage.setItem('inProgressTasks', inProgressTasks);\n    };\n\n    _this.setStorageDoneTasks = function() {\n      var doneTasks = angular.toJson(_this.doneTasks);\n      localStorage.setItem('doneTasks', doneTasks);\n    };\n\n    //move tasks to aborted column\n    _this.abortTask = function(obj) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == obj.id) {\n          _this.abortedTasks.push(_this.tasks[i]);\n          _this.tasks.splice(i, 1);\n          sortTasksTime(_this.abortedTasks);\n          _this.abortedTasks = sortTasksPriority(_this.abortedTasks);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n\n    //delete tasks from aborted column\n    _this.removeTask = function(id) {\n      var i=0;\n      while(i<_this.abortedTasks.length) {\n        if(_this.abortedTasks[i]['id'] == id) {\n          _this.abortedTasks.splice(i, 1);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n\n    //move tasks to inProgress column\n    _this.moveInProgress = function(id) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == id) {\n          _this.tasks[i]['status'] = 'in-progress';\n          _this.inProgressTasks.push(_this.tasks[i]);\n          _this.tasks.splice(i, 1);\n          sortTasksTime(_this.inProgressTasks);\n          _this.inProgressTasks = sortTasksPriority(_this.inProgressTasks);\n          return _this.inProgressTasks;\n        }\n        i++;\n      }\n    };\n\n    //edition priority tasks\n    _this.editInProgress = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['priority'] = obj.priority;\n          sortTasksTime(_this.inProgressTasks);\n          _this.inProgressTasks = sortTasksPriority(_this.inProgressTasks);\n          return _this.inProgressTasks;\n        }\n        i++;\n      }\n    };\n\n    //move tasks to aborted column from inProgress column\n    _this.abortInProgress = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['status'] = 'aborted';\n          _this.abortedTasks.push(_this.inProgressTasks[i]);\n          _this.inProgressTasks.splice(i, 1);\n          sortTasksTime(_this.abortedTasks);\n          _this.abortedTasks = sortTasksPriority(_this.abortedTasks);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n    //move tasks from inProgress column to done column\n    _this.moveToDone = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['status'] = 'done';\n          _this.doneTasks.push(_this.inProgressTasks[i]);\n          _this.inProgressTasks.splice(i, 1);\n          sortTasksTime(_this.doneTasks);\n          _this.doneTasks = sortTasksPriority(_this.doneTasks);\n          return _this.doneTasks;\n        }\n        i++;\n      }\n    };\n\n    //delete tasks from done column\n    _this.removeDoneTask = function(id) {\n      var i=0;\n      while(i<_this.doneTasks.length) {\n        if(_this.doneTasks[i]['id'] == id) {\n          _this.doneTasks.splice(i, 1);\n          return _this.doneTasks;\n        }\n        i++;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('mainComponent', {\n      templateUrl: 'app/main/main.template.html',\n      controller: function(mainService) {\n\n        this.tasks = mainService.tasks;\n        this.abortedTasks = mainService.abortedTasks;\n        this.inProgressTasks = mainService.inProgressTasks;\n        this.doneTasks = mainService.doneTasks;\n\n        this.createTask = function(val) {\n          this.tasks = mainService.addTask(val);\n          mainService.storage();\n        };\n\n        this.editTask = function(obj) {\n          this.tasks = mainService.editTask(obj.id, obj.text, obj.priority);\n          mainService.storage();\n        };\n\n        this.abortedTask = function(obj) {\n          this.abortedTasks = mainService.abortTask(obj);\n          mainService.setStorageAbortedTasks();\n          mainService.storage();\n        };\n\n        this.removeTask = function(obj) {\n          this.abortedTasks = mainService.removeTask(obj.id);\n          mainService.setStorageAbortedTasks();\n        };\n\n        this.moveInProgress = function(obj) {\n          this.inProgressTasks = mainService.moveInProgress(obj.id);\n          mainService.storage();\n          mainService.setStorageInProgressTasks();\n        };\n\n        this.editInProgress = function(obj) {\n          this.inProgressTasks = mainService.editInProgress(obj);\n          mainService.setStorageInProgressTasks();\n        };\n\n        this.abortInProgressTask = function(obj) {\n          this.abortedTasks = mainService.abortInProgress(obj);\n          mainService.setStorageInProgressTasks();\n          mainService.setStorageAbortedTasks();\n        };\n\n        this.moveToDone = function(obj) {\n          this.doneTasks = mainService.moveToDone(obj);\n          mainService.setStorageInProgressTasks();\n          mainService.setStorageDoneTasks();\n        };\n\n        this.removeDoneTask = function(obj) {\n          this.doneTasks = mainService.removeDoneTask(obj.id);\n          mainService.setStorageDoneTasks();\n        }\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($rootScope) {\n    $rootScope.maxID = angular.fromJson(localStorage.getItem('maxID')) || -1;\n    $rootScope.tasks = angular.fromJson(localStorage.getItem('doitTasks')) || [];\n    $rootScope.inProgressTasks = angular.fromJson(localStorage.getItem('inProgressTasks')) || [];\n    $rootScope.doneTasks = angular.fromJson(localStorage.getItem('doneTasks')) || [];\n    $rootScope.abortedTasks = angular.fromJson(localStorage.getItem('abortedTasks')) || [];\n    $rootScope.inProgressTasks = angular.fromJson(localStorage.getItem('inProgressTasks')) || [];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"canban\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=container><main-component class=main></main-component></div>\");\n$templateCache.put(\"app/main/main.template.html\",\"<doit-component class=one-column tasks=$ctrl.tasks edit-task=$ctrl.editTask(obj) move-in-progress=$ctrl.moveInProgress(obj) aborted-task=$ctrl.abortedTask(obj)></doit-component><in-progress-component class=one-column in-progress=$ctrl.inProgressTasks aborted-task=$ctrl.abortInProgressTask(obj) edit-in-progress-task=$ctrl.editInProgress(obj) move-to-done=$ctrl.moveToDone(obj)></in-progress-component><done-component class=one-column done-tasks=$ctrl.doneTasks remove-done-task=$ctrl.removeDoneTask(obj)></done-component><aborted-component class=one-column aborted-tasks=$ctrl.abortedTasks remove=$ctrl.removeTask(obj)></aborted-component><add-component create-task=$ctrl.createTask(task)></add-component>\");\n$templateCache.put(\"app/components/aborted/aborted.template.html\",\"<div class=item><h2>ABORTED</h2><div class=task ng-repeat=\\\"task in $ctrl.abortedTasks track by $index\\\"><p class=aborted-text ng-class=task.priority>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=\\\"buttons delete\\\"><button type=button class=remove-task ng-click=$ctrl.removeTask(task.id)>Remove</button></div></div></div>\");\n$templateCache.put(\"app/components/add/add.template.html\",\"<form action=# class=add-task name=addTask><div class=button-add ng-click=$ctrl.showFieldInput()>CREATE NEW TASK</div><div class=field-input ng-class=\\\"{\\'show\\': $ctrl.show}\\\"><div class=input-cover><textarea required class=input-new-task name=inputNewTask cols=30 rows=10 placeholder=\\\"Input new task\\\" ng-model=addTask.task></textarea></div><div class=priority><p>Choose a priority of task</p><div class=\\\"priority-checkbox__cover clearfix\\\"><div class=\\\"input-cover priority-checkbox\\\"><label for=low><input id=low type=radio checked name=radioPriority value=low ng-init=\\\"addTask.radio.value = \\'low\\'\\\" ng-model=addTask.radio.value> Low priority</label></div><div class=\\\"input-cover priority-checkbox\\\"><label for=normal><input id=normal type=radio name=radioPriority value=normal ng-model=addTask.radio.value> Normal priority</label></div><div class=\\\"input-cover priority-checkbox\\\"><label for=hight><input id=hight type=radio name=radioPriority value=hight ng-model=addTask.radio.value> Hight priority</label></div></div></div><div><button type=button class=button-for-add ng-class=\\\"{\\'valid\\': addTask.$valid}\\\" ng-click=\\\"$ctrl.addTask($event, addTask)\\\">ADD</button></div></div></form>\");\n$templateCache.put(\"app/components/doit/doit.template.html\",\"<div class=item><h2>DO IT</h2><div class=task ng-repeat=\\\"task in $ctrl.tasks track by $index\\\"><form action=# name=oneTask{{task.id}}><textarea disabled ng-class=task.priority class=task-description name=oneTaskEditTask ng-model=task.text>{{task.text}}</textarea><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=buttons><a href=# class=edit ng-click=$ctrl.edit($event)>Edit</a> <button type=button class=save-edit ng-click=\\\"$ctrl.save($event, task); $ctrl.filter()\\\">Save</button> <button type=button class=abort ng-click=$ctrl.aborted(task.id)>Abort</button> <button type=button class=move-in-progress ng-click=$ctrl.inProgress(task.id)>In progress</button></div><div class=\\\"edit-priority clearfix\\\"><div class=low-label><input name=radioPriority{{task.id}} type=radio id=low{{task.id}} value=low ng-model=task.priority><label for=low{{task.id}}>Low</label></div><div class=normal-label><input name=radioPriority{{task.id}} type=radio id=normal{{task.id}} value=normal ng-model=task.priority><label for=normal{{task.id}}>Normal</label></div><div class=hight-label><input name=radioPriority{{task.id}} type=radio id=hight{{task.id}} value=hight ng-model=task.priority><label for=hight{{task.id}}>Hight</label></div></div></form></div></div>\");\n$templateCache.put(\"app/components/done/done.template.html\",\"<div class=item><h2>DONE</h2><div class=task ng-repeat=\\\"task in $ctrl.doneTasks track by $index\\\"><p class=aborted-text ng-class=task.priority>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=\\\"buttons delete\\\"><button type=button class=remove-task ng-click=$ctrl.removeTask(task.id)>Remove</button></div></div></div>\");\n$templateCache.put(\"app/components/inprogress/inprogress.template.html\",\"<div class=item><h2>IN PROGRESS</h2><div class=task ng-repeat=\\\"task in $ctrl.inProgress track by $index\\\"><form action=# name=oneTask{{task.id}}><p ng-class=task.priority class=task-description>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=buttons><a href=# class=edit ng-click=$ctrl.edit($event)>Edit</a> <button type=button class=save-edit ng-click=\\\"$ctrl.save($event, task)\\\">Save</button> <button type=button class=abort ng-click=$ctrl.aborted(task.id)>Abort</button> <button type=button class=move-done ng-click=$ctrl.done(task.id)>Done</button></div><div class=\\\"edit-priority clearfix\\\"><div class=low-label><input name=radioPriority{{task.id}} type=radio id=low{{task.id}} value=low ng-model=task.priority><label for=low{{task.id}}>Low</label></div><div class=normal-label><input name=radioPriority{{task.id}} type=radio id=normal{{task.id}} value=normal ng-model=task.priority><label for=normal{{task.id}}>Normal</label></div><div class=hight-label><input name=radioPriority{{task.id}} type=radio id=hight{{task.id}} value=hight ng-model=task.priority><label for=hight{{task.id}}>Hight</label></div></div></form></div></div>\");}]);"],"sourceRoot":"/source/"}