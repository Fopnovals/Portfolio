{"version":3,"sources":["scripts/app.js"],"names":["angular","module","component","templateUrl","bindings","inProgress","editInProgressTask","abortedTask","moveToDone","controller","this","edit","e","preventDefault","elem","element","target","hide","next","show","parent","save","obj","prev","aborted","id","status","done","remove","doneTasks","removeDoneTask","removeTask","removeId","tasks","editTask","moveInProgress","dynamicFilter","closest","find","attr","disabled","focus","createTask","_this","newTask","showFieldInput","addTask","data","$valid","temp","task","priority","radio","value","abortedTasks","mainService","$rootScope","inProgressTasks","maxID","sortTasksPriority","hightPriority","normalPriority","lowPriority","i","length","push","concat","sortTasksTime","sort","a","b","milliseconds","currentTime","Date","localStorage","setItem","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","getTime","text","newText","storage","doitTasks","toJson","setStorageAbortedTasks","setStorageInProgressTasks","setStorageDoneTasks","abortTask","splice","editInProgress","abortInProgress","$inject","service","val","abortInProgressTask","runBlock","fromJson","getItem","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-5939a46e9a.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('canban', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('inProgressComponent', {\n      templateUrl: 'app/components/inprogress/inprogress.template.html',\n      bindings: {\n        inProgress: '<',\n        editInProgressTask: '&',\n        abortedTask: '&',\n        moveToDone: '&'\n      },\n      controller: function() {\n\n        this.edit = function(e) {\n          e.preventDefault();\n          var elem = angular.element(e.target);\n          elem.hide();\n          elem.next().show();\n          elem.parent().next().show();\n        };\n\n        this.save = function(e, obj) {\n          var elem = angular.element(e.target);\n          elem.hide();\n          elem.prev().show();\n          elem.parent().next().hide();\n          this.editInProgressTask({obj: obj});\n        };\n\n        this.aborted = function(id) {\n          var obj = {\n            'status': 'aborted',\n            'id': id\n          };\n          this.abortedTask({'obj': obj});\n        };\n\n        this.done = function(id) {\n          var obj = {\n            'status': 'done',\n            'id': id\n          };\n          this.moveToDone({'obj': obj});\n        }\n      }\n\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('doneComponent', {\n      templateUrl: 'app/components/done/done.template.html',\n      bindings: {\n        remove: \"&\",\n        doneTasks: \"<\",\n        removeDoneTask: '&'\n      },\n      controller: function() {\n        this.removeTask = function(removeId) {\n          this.removeDoneTask({obj: {'id': removeId}});\n        };\n\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('doitComponent', {\n      templateUrl: 'app/components/doit/doit.template.html',\n      bindings: {\n        tasks: \"<\",\n        editTask: \"&\",\n        abortedTask: \"&\",\n        moveInProgress: \"&\",\n        dynamicFilter: '@'\n      },\n      controller: function() {\n\n        this.edit = function(e) {\n          e.preventDefault();\n          var elem = angular.element(e.target);\n          elem.closest('.task').find('.task-description').attr({'disabled': false}).focus();\n          elem.hide();\n          elem.next().show();\n          elem.parent('.buttons').next('.edit-priority').show();\n        };\n\n        this.save = function(e, obj) {\n          var elem = angular.element(e.target);\n          elem.closest('.task').find('.task-description').attr({'disabled': true});\n          elem.hide();\n          elem.prev().show();\n          elem.parent('.buttons').next('.edit-priority').hide();\n          this.editTask({obj: obj});\n        };\n\n        this.aborted = function(id) {\n          var obj = {\n            'status': 'aborted',\n            'id': id\n          };\n          this.abortedTask({'obj': obj});\n        };\n\n        this.inProgress = function(id) {\n          this.moveInProgress({obj: {'id': id}});\n        };\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('addComponent', {\n      templateUrl: '../app/components/add/add.template.html',\n      bindings: {\n        createTask: \"&\"\n      },\n      controller: function() {\n        var _this = this;\n\n        _this.show = false;\n        _this.newTask = {};\n        _this.showFieldInput = function() {\n          _this.show = !_this.show;\n        };\n\n        _this.addTask = function(data) {\n          if(!data.$valid) {\n            return;\n          } else {\n            var temp = {\n              task: data.task,\n              priority: data.radio.value\n            };\n            _this.show = false;\n            _this.createTask({task:temp});\n          }\n        }\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('abortedComponent', {\n      templateUrl: 'app/components/aborted/aborted.template.html',\n      bindings: {\n        remove: \"&\",\n        abortedTasks: \"<\"\n      },\n      controller: function() {\n        this.removeTask = function(removeId) {\n          this.remove({obj: {'id': removeId}});\n        };\n      }\n    });\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .service('mainService', mainService);\n\n  /** @ngInject */\n  function mainService($rootScope) {\n    var _this = this;\n\n    _this.tasks = $rootScope.tasks;\n    _this.abortedTasks = $rootScope.abortedTasks;\n    _this.inProgressTasks = $rootScope.inProgressTasks;\n    _this.doneTasks = $rootScope.doneTasks;\n    _this.maxID = $rootScope.maxID;\n\n    var sortTasksPriority = function(tasks) {\n      var hightPriority = [], normalPriority = [], lowPriority = [];\n      for(var i=0; i<tasks.length; i++) {\n        if(tasks[i].priority == 'hight') {\n          hightPriority.push(tasks[i]);\n        } else if(tasks[i].priority == 'normal') {\n          normalPriority.push(tasks[i]);\n        } else if(tasks[i].priority == 'low') {\n          lowPriority.push(tasks[i]);\n        }\n      }\n      return hightPriority.concat(normalPriority).concat(lowPriority);\n    };\n\n    var sortTasksTime = function(tasks) {\n      tasks.sort(function(a, b) {\n        return a.milliseconds - b.milliseconds;\n      });\n    };\n\n    _this.addTask = function(obj) {\n      var currentTime = new Date(),\n        id;\n      _this.maxID++;\n      localStorage.setItem('maxID', _this.maxID);\n      if(_this.tasks.length > 0) {\n        id = _this.maxID;\n      } else {\n        id = 0;\n      }\n\n      var temp = {\n        \"year\": currentTime.getFullYear()+'   ',\n        \"month\": currentTime.getMonth()+'.',\n        \"date\": currentTime.getDate()+'.',\n        \"hours\": currentTime.getHours()+':',\n        \"minutes\": currentTime.getMinutes()+':',\n        \"seconds\": currentTime.getSeconds(),\n        \"milliseconds\": currentTime.getTime(),\n        \"text\": obj.task,\n        \"priority\": obj.priority,\n        \"status\": \"new\",\n        \"id\":  id\n      };\n      _this.tasks.push(temp);\n      sortTasksTime(_this.tasks);\n      _this.tasks = sortTasksPriority(_this.tasks);\n      return _this.tasks;\n    };\n\n    _this.editTask = function(id, newText, priority) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == id) {\n          _this.tasks[i]['text'] = newText;\n          _this.tasks[i]['priority'] = priority;\n          sortTasksTime(_this.tasks);\n          _this.tasks = sortTasksPriority(_this.tasks);\n          return _this.tasks;\n        }\n        i++;\n      }\n    };\n\n    _this.storage = function() {\n      var doitTasks = angular.toJson(_this.tasks);\n      localStorage.setItem('doitTasks', doitTasks);\n    };\n\n    _this.setStorageAbortedTasks = function() {\n      var abortedTasks = angular.toJson(_this.abortedTasks);\n      localStorage.setItem('abortedTasks', abortedTasks);\n    };\n\n    _this.setStorageInProgressTasks = function() {\n      var inProgressTasks = angular.toJson(_this.inProgressTasks);\n      localStorage.setItem('inProgressTasks', inProgressTasks);\n    };\n\n    _this.setStorageDoneTasks = function() {\n      var doneTasks = angular.toJson(_this.doneTasks);\n      localStorage.setItem('doneTasks', doneTasks);\n    };\n\n    _this.abortTask = function(obj) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == obj.id) {\n          _this.abortedTasks.push(_this.tasks[i]);\n          _this.tasks.splice(i, 1);\n          sortTasksTime(_this.abortedTasks);\n          _this.abortedTasks = sortTasksPriority(_this.abortedTasks);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.removeTask = function(id) {\n      var i=0;\n      while(i<_this.abortedTasks.length) {\n        if(_this.abortedTasks[i]['id'] == id) {\n          _this.abortedTasks.splice(i, 1);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.moveInProgress = function(id) {\n      var i=0;\n      while(i<_this.tasks.length) {\n        if(_this.tasks[i]['id'] == id) {\n          _this.tasks[i]['status'] = 'in-progress';\n          _this.inProgressTasks.push(_this.tasks[i]);\n          _this.tasks.splice(i, 1);\n          sortTasksTime(_this.inProgressTasks);\n          _this.inProgressTasks = sortTasksPriority(_this.inProgressTasks);\n          return _this.inProgressTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.editInProgress = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['priority'] = obj.priority;\n          sortTasksTime(_this.inProgressTasks);\n          _this.inProgressTasks = sortTasksPriority(_this.inProgressTasks);\n          return _this.inProgressTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.abortInProgress = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['status'] = 'aborted';\n          _this.abortedTasks.push(_this.inProgressTasks[i]);\n          _this.inProgressTasks.splice(i, 1);\n          sortTasksTime(_this.abortedTasks);\n          _this.abortedTasks = sortTasksPriority(_this.abortedTasks);\n          return _this.abortedTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.moveToDone = function(obj) {\n      var i=0;\n      while(i<_this.inProgressTasks.length) {\n        if(_this.inProgressTasks[i]['id'] == obj.id) {\n          _this.inProgressTasks[i]['status'] = 'done';\n          _this.doneTasks.push(_this.inProgressTasks[i]);\n          _this.inProgressTasks.splice(i, 1);\n          sortTasksTime(_this.doneTasks);\n          _this.doneTasks = sortTasksPriority(_this.doneTasks);\n          return _this.doneTasks;\n        }\n        i++;\n      }\n    };\n\n    _this.removeDoneTask = function(id) {\n      var i=0;\n      while(i<_this.doneTasks.length) {\n        if(_this.doneTasks[i]['id'] == id) {\n          _this.doneTasks.splice(i, 1);\n          return _this.doneTasks;\n        }\n        i++;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .component('mainComponent', {\n      templateUrl: '../app/main/main.template.html',\n      controller: function(mainService) {\n\n        this.tasks = mainService.tasks;\n        this.abortedTasks = mainService.abortedTasks;\n        this.inProgressTasks = mainService.inProgressTasks;\n        this.doneTasks = mainService.doneTasks;\n\n        this.createTask = function(val) {\n          this.tasks = mainService.addTask(val);\n          mainService.storage();\n        };\n\n        this.editTask = function(obj) {\n          this.tasks = mainService.editTask(obj.id, obj.text, obj.priority);\n          mainService.storage();\n        };\n\n        this.abortedTask = function(obj) {\n          this.abortedTasks = mainService.abortTask(obj);\n          mainService.setStorageAbortedTasks();\n          mainService.storage();\n        };\n\n        this.removeTask = function(obj) {\n          this.abortedTasks = mainService.removeTask(obj.id);\n          mainService.setStorageAbortedTasks();\n        };\n\n        this.moveInProgress = function(obj) {\n          this.inProgressTasks = mainService.moveInProgress(obj.id);\n          mainService.storage();\n          mainService.setStorageInProgressTasks();\n        };\n\n        this.editInProgress = function(obj) {\n          this.inProgressTasks = mainService.editInProgress(obj);\n          mainService.setStorageInProgressTasks();\n        };\n\n        this.abortInProgressTask = function(obj) {\n          this.abortedTasks = mainService.abortInProgress(obj);\n          mainService.setStorageInProgressTasks();\n          mainService.setStorageAbortedTasks();\n        };\n\n        this.moveToDone = function(obj) {\n          this.doneTasks = mainService.moveToDone(obj);\n          mainService.setStorageInProgressTasks();\n          mainService.setStorageDoneTasks();\n        };\n\n        this.removeDoneTask = function(obj) {\n          this.doneTasks = mainService.removeDoneTask(obj.id);\n          mainService.setStorageDoneTasks();\n        }\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($rootScope) {\n    $rootScope.maxID = angular.fromJson(localStorage.getItem('maxID')) || -1;\n    $rootScope.tasks = angular.fromJson(localStorage.getItem('doitTasks')) || [];\n    $rootScope.inProgressTasks = angular.fromJson(localStorage.getItem('inProgressTasks')) || [];\n    $rootScope.doneTasks = angular.fromJson(localStorage.getItem('doneTasks')) || [];\n    $rootScope.abortedTasks = angular.fromJson(localStorage.getItem('abortedTasks')) || [];\n    $rootScope.inProgressTasks = angular.fromJson(localStorage.getItem('inProgressTasks')) || [];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('canban')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"canban\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=container><main-component class=main></main-component></div>\");\n$templateCache.put(\"app/main/main.template.html\",\"<doit-component class=one-column tasks=$ctrl.tasks edit-task=$ctrl.editTask(obj) move-in-progress=$ctrl.moveInProgress(obj) aborted-task=$ctrl.abortedTask(obj)></doit-component><in-progress-component class=one-column in-progress=$ctrl.inProgressTasks aborted-task=$ctrl.abortInProgressTask(obj) edit-in-progress-task=$ctrl.editInProgress(obj) move-to-done=$ctrl.moveToDone(obj)></in-progress-component><done-component class=one-column done-tasks=$ctrl.doneTasks remove-done-task=$ctrl.removeDoneTask(obj)></done-component><aborted-component class=one-column aborted-tasks=$ctrl.abortedTasks remove=$ctrl.removeTask(obj)></aborted-component><add-component create-task=$ctrl.createTask(task)></add-component>\");\n$templateCache.put(\"app/components/aborted/aborted.template.html\",\"<div class=item><h2>ABORTED</h2><div class=task ng-repeat=\\\"task in $ctrl.abortedTasks track by $index\\\"><p class=aborted-text ng-class=task.priority>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=\\\"buttons delete\\\"><button type=button class=remove-task ng-click=$ctrl.removeTask(task.id)>Remove</button></div></div></div>\");\n$templateCache.put(\"app/components/add/add.template.html\",\"<form action=\\\"\\\" method=post class=add-task name=addTask><div class=button-add ng-click=$ctrl.showFieldInput()>CREATE NEW TASK</div><div class=field-input ng-class=\\\"{\\'show\\': $ctrl.show}\\\"><div class=input-cover><textarea required class=input-new-task name=inputNewTask cols=30 rows=10 placeholder=\\\"Input new task\\\" ng-model=addTask.task></textarea></div><div class=priority><p>Choose a priority of task</p><div class=\\\"priority-checkbox__cover clearfix\\\"><div class=\\\"input-cover priority-checkbox\\\"><label for=low><input id=low type=radio checked name=radioPriority value=low ng-init=\\\"addTask.radio.value = \\'low\\'\\\" ng-model=addTask.radio.value> Low priority</label></div><div class=\\\"input-cover priority-checkbox\\\"><label for=normal><input id=normal type=radio name=radioPriority value=normal ng-model=addTask.radio.value> Normal priority</label></div><div class=\\\"input-cover priority-checkbox\\\"><label for=hight><input id=hight type=radio name=radioPriority value=hight ng-model=addTask.radio.value> Hight priority</label></div></div></div><div><button type=button class=button-for-add ng-class=\\\"{\\'valid\\': addTask.$valid}\\\" ng-click=$ctrl.addTask(addTask)>ADD</button></div></div></form>\");\n$templateCache.put(\"app/components/doit/doit.template.html\",\"<div class=item><h2>DO IT</h2><div class=task ng-repeat=\\\"task in $ctrl.tasks track by $index\\\"><form action=# name=oneTask{{task.id}}><textarea disabled ng-class=task.priority class=task-description name=oneTaskEditTask ng-model=task.text>{{task.text}}</textarea><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=buttons><a href=# class=edit ng-click=$ctrl.edit($event)>Edit</a> <button type=button class=save-edit ng-click=\\\"$ctrl.save($event, task); $ctrl.filter()\\\">Save</button> <button type=button class=abort ng-click=$ctrl.aborted(task.id)>Abort</button> <button type=button class=move-in-progress ng-click=$ctrl.inProgress(task.id)>In progress</button></div><div class=\\\"edit-priority clearfix\\\"><div class=low-label><input name=radioPriority{{task.id}} type=radio id=low{{task.id}} value=low ng-model=task.priority><label for=low{{task.id}}>Low</label></div><div class=normal-label><input name=radioPriority{{task.id}} type=radio id=normal{{task.id}} value=normal ng-model=task.priority><label for=normal{{task.id}}>Normal</label></div><div class=hight-label><input name=radioPriority{{task.id}} type=radio id=hight{{task.id}} value=hight ng-model=task.priority><label for=hight{{task.id}}>Hight</label></div></div></form></div></div>\");\n$templateCache.put(\"app/components/done/done.template.html\",\"<div class=item><h2>DONE</h2><div class=task ng-repeat=\\\"task in $ctrl.doneTasks track by $index\\\"><p class=aborted-text ng-class=task.priority>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=\\\"buttons delete\\\"><button type=button class=remove-task ng-click=$ctrl.removeTask(task.id)>Remove</button></div></div></div>\");\n$templateCache.put(\"app/components/inprogress/inprogress.template.html\",\"<div class=item><h2>IN PROGRESS</h2><div class=task ng-repeat=\\\"task in $ctrl.inProgress track by $index\\\"><form action=# name=oneTask{{task.id}}><p ng-class=task.priority class=task-description>{{task.text}}</p><div class=time-box>{{task.date}}{{task.month}}{{task.year}} {{task.hours}}{{task.minutes}}{{task.seconds}}</div><div class=buttons><a href=# class=edit ng-click=$ctrl.edit($event)>Edit</a> <button type=button class=save-edit ng-click=\\\"$ctrl.save($event, task)\\\">Save</button> <button type=button class=abort ng-click=$ctrl.aborted(task.id)>Abort</button> <button type=button class=move-done ng-click=$ctrl.done(task.id)>Done</button></div><div class=\\\"edit-priority clearfix\\\"><div class=low-label><input name=radioPriority{{task.id}} type=radio id=low{{task.id}} value=low ng-model=task.priority><label for=low{{task.id}}>Low</label></div><div class=normal-label><input name=radioPriority{{task.id}} type=radio id=normal{{task.id}} value=normal ng-model=task.priority><label for=normal{{task.id}}>Normal</label></div><div class=hight-label><input name=radioPriority{{task.id}} type=radio id=hight{{task.id}} value=hight ng-model=task.priority><label for=hight{{task.id}}>Hight</label></div></div></form></div></div>\");}]);"],"sourceRoot":"/source/"}